name: Hello World with Slack

on: [push]

jobs:
  greet:
    runs-on: ubuntu-latest
    steps:
      - name: 인사 출력
        run: |
          echo "안녕하세요, GitHub Actions!"
          echo "브랜치: ${{ github.ref_name }} / 유저: ${{ github.actor }}"
          echo "실행 시간: $(date)"

      - name: Slack 알림 보내기
        uses: slackapi/slack-github-action@v2
        with:
          # ✅ 필수: webhook-type (incoming-webhook or webhook-trigger)
          webhook-type: incoming-webhook

          # ✅ 필수: webhook URL (GitHub Secrets에 등록)
          webhook: ${{ secrets.SLACK_WEBHOOK_URL }}

          # ✅ payload: 보낼 메시지
          payload: |
            {
              "text": "✅ *Hello World Workflow 성공!*\n
              • Repository: `${{ github.repository }}`\n
              • Branch: `${{ github.ref_name }}`\n
              • Triggered by: `${{ github.actor }}`\n
              • 실행 시간: $(date)"
            }

# Hello World + Slack Notification 워크플로우
name: Hello World with Slack

# 모든 브랜치의 push 이벤트에서 실행
on: [push]

jobs:
  greet:
    name: Hello and Notify
    runs-on: ubuntu-latest

    steps:
      # 1️⃣ 인사 출력
      - name: 인사 출력
        run: |
          echo "안녕하세요, GitHub Actions!"
          echo "브랜치: ${{ github.ref }} / 유저: ${{ github.actor }}"

      # 2️⃣ 현재 시간 출력
      - name: 현재 시간 출력
        run: |
          echo "실행 시간: $(date)"

      # 3️⃣ Slack 알림 전송
      - name: Slack 알림 보내기
        uses: slackapi/slack-github-action@v2
        with:
          # 🔹 webhook 타입: incoming-webhook (필수)
          webhook-type: incoming-webhook
          # 🔹 GitHub Secrets에 등록한 Slack Webhook URL 사용
          slack-webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
          # 🔹 전송할 메시지 본문
          payload: |
            {
              "text": "✅ *Hello World Workflow 성공!*\n
              • Repository: `${{ github.repository }}`\n
              • Branch: `${{ github.ref_name }}`\n
              • Triggered by: `${{ github.actor }}`\n
              • 실행 시간: $(date)"
            }

